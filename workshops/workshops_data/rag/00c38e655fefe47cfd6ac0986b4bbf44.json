{
    "id": "00c38e655fefe47cfd6ac0986b4bbf44",
    "metadata": {
        "id": "00c38e655fefe47cfd6ac0986b4bbf44",
        "url": "https://huggingface.co/jinaai/ReaderLM-v2/",
        "title": "jinaai/ReaderLM-v2 ¬∑ Hugging Face",
        "properties": {
            "description": "We‚Äôre on a journey to advance and democratize artificial intelligence through open source and open science.",
            "keywords": null,
            "author": null,
            "og:title": "jinaai/ReaderLM-v2 ¬∑ Hugging Face",
            "og:type": "website",
            "og:url": "https://huggingface.co/jinaai/ReaderLM-v2",
            "og:image": "https://cdn-thumbnails.huggingface.co/social-thumbnails/models/jinaai/ReaderLM-v2.png",
            "twitter:card": "summary_large_image",
            "twitter:site": "@huggingface",
            "twitter:image": "https://cdn-thumbnails.huggingface.co/social-thumbnails/models/jinaai/ReaderLM-v2.png"
        }
    },
    "parent_metadata": {
        "id": "6caacfd63accdb958ad15b4a8fbe197a",
        "url": "https://www.notion.so/Document-preprocessing-e-g-HTML-PDF-6caacfd63accdb958ad15b4a8fbe197a",
        "title": "Document preprocessing (e.g., HTML, PDF)",
        "properties": {
            "Type": "Leaf"
        }
    },
    "content": "[![Hugging Face's logo](/front/assets/huggingface_logo-noborder.svg) Hugging Face](/)\n\n  * [ Models](/models)\n  * [ Datasets](/datasets)\n  * [ Spaces](/spaces)\n  * [ Posts](/posts)\n  * [ Docs](/docs)\n  * [ Enterprise](/enterprise)\n  * [Pricing](/pricing)\n  * [Log In](/login)\n  * [Sign Up](/join)\n\n\n\n# \n\n[![](https://cdn-avatars.huggingface.co/v1/production/uploads/603763514de52ff951d89793/AFoybzd5lpBQXEBrQHuTt.png)](/jinaai)\n\n[jinaai](/jinaai)\n\n/\n\n[ReaderLM-v2](/jinaai/ReaderLM-v2)\n\nlike 467\n\nFollow\n\n![](https://cdn-avatars.huggingface.co/v1/production/uploads/603763514de52ff951d89793/AFoybzd5lpBQXEBrQHuTt.png) Jina AI 667\n\n[ Text Generation ](/models?pipeline_tag=text-generation)[ Transformers ](/models?library=transformers)[ ONNX ](/models?library=onnx)[ Safetensors ](/models?library=safetensors)[ multilingual ](/models?language=multilingual)[ qwen2 ](/models?other=qwen2)[ conversational ](/models?other=conversational)[ text-generation-inference ](/models?other=text-generation-inference)\n\nLicense: cc-by-nc-4.0\n\n[ üá™üá∫ Region: EU ](/models?other=region%3Aeu)\n\n[ Model card ](/jinaai/ReaderLM-v2)[ Files Files and versions ](/jinaai/ReaderLM-v2/tree/main)[ Community 11 ](/jinaai/ReaderLM-v2/discussions)\n\nTrain \n\nDeploy \n\nUse this model \n\n  * [ReaderLM-v2](#readerlm-v2 \"ReaderLM-v2\")\n    * [What's New in `ReaderLM-v2`](#whats-new-in-readerlm-v2 \"What&#39;s New in <code>ReaderLM-v2</code>\")\n    * [Model Overview](#model-overview \"Model Overview\")\n  * [Usage](#usage \"Usage\")\n    * [Via Reader API](#via-reader-api \"Via Reader API\")\n    * [On Google Colab](#on-google-colab \"On Google Colab\")\n    * [Local Usage](#local-usage \"Local Usage\")\n      * [HTML to Markdown Example](#html-to-markdown-example \"HTML to Markdown Example\")\n      * [HTML to JSON Example](#html-to-json-example \"HTML to JSON Example\")\n    * [Model Performance](#model-performance \"Model Performance\")\n      * [Quantitative Evaluation](#quantitative-evaluation \"Quantitative Evaluation\")\n      * [Qualitative Evaluation](#qualitative-evaluation \"Qualitative Evaluation\")\n    * [Training Details](#training-details \"Training Details\")\n\n\n\n![Jina AI: Your Search Foundation, Supercharged!](https://huggingface.co/datasets/jinaai/documentation-images/resolve/main/logo.webp)\n\n**Trained by[**Jina AI**](https://jina.ai/).**\n\n[Blog](https://jina.ai/news/readerlm-v2-frontier-small-language-model-for-html-to-markdown-and-json) | [API](https://jina.ai/reader) | [Colab](https://colab.research.google.com/drive/1FfPjZwkMSocOLsEYH45B3B4NxDryKLGI?usp=sharing) | [AWS](https://aws.amazon.com/marketplace/pp/prodview-jwfct4j4rvxk2?sr=0-21&ref_=beagle&applicationId=AWSMPContessa) | [Azure](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/jinaai.reader-lm-v2-vm)| [Arxiv (soon!)]\n\n#  [ ](#readerlm-v2) ReaderLM-v2 \n\n`ReaderLM-v2` is a 1.5B parameter language model that converts raw HTML into beautifully formatted markdown or JSON with superior accuracy and improved longer context handling. Supporting multiple languages (29 in total), `ReaderLM-v2` is specialized for tasks involving HTML parsing, transformation, and text extraction.\n\n##  [ ](#whats-new-in-readerlm-v2) What's New in `ReaderLM-v2`\n\n`ReaderLM-v2` represents a significant leap forward from its predecessor, with several key improvements:\n\n  * **Better Markdown Generation** : Thanks to its new training paradigm and higher-quality training data, the model excels at generating complex elements like code fences, nested lists, tables, and LaTeX equations.\n  * **JSON Output** : Introduces direct HTML-to-JSON generation using predefined schemas, eliminating the need for intermediate markdown conversion.\n  * **Longer Context Handling** : Handles up to 512K tokens combined input and output length, with improved performance on long-form content.\n  * **Multilingual Support** : Comprehensive support across 29 languages for broader applications.\n  * **Enhanced Stability** : Greatly alleviates degeneration issues after generating long sequences through contrastive loss during training.\n\n\n\n##  [ ](#model-overview) Model Overview \n\n  * **Model Type** : Autoregressive, decoder-only transformer\n  * **Parameter Count** : 1.54B\n  * **Context Window** : Up to 512K tokens (combined input and output)\n  * **Hidden Size** : 1536\n  * **Number of Layers** : 28\n  * **Query Heads** : 12\n  * **KV Heads** : 2\n  * **Head Size** : 128\n  * **Intermediate Size** : 8960\n  * **Supported Languages** : English, Chinese, Japanese, Korean, French, Spanish, Portuguese, German, Italian, Russian, Vietnamese, Thai, Arabic, and more (29 total)\n\n\n\n#  [ ](#usage) Usage \n\nBelow, you will find instructions and examples for using `ReaderLM-v2` locally using the Hugging Face Transformers library. For a more hands-on experience in a hosted environment, see the [Google Colab Notebook](https://colab.research.google.com/drive/1FfPjZwkMSocOLsEYH45B3B4NxDryKLGI?usp=sharing).\n\n##  [ ](#via-reader-api) Via Reader API \n\n`ReaderLM-v2` is now fully integrated with [Reader API](https://jina.ai/reader/). To use it, simply specify `x-engine: readerlm-v2` in your request headers and enable response streaming with `-H 'Accept: text/event-stream'`:\n\n```\n`curl https://r.jina.ai/https://news.ycombinator.com/ -H 'x-engine: readerlm-v2' -H 'Accept: text/event-stream' `\n```\n\nYou can try it without an API key at a lower rate limit. For higher rate limits, you can purchase an API key. Please note that ReaderLM-v2 requests consume 3x the normal token count from your API key allocation. This is currently an experimental feature, and we're working with the GCP team to improve GPU efficiency.\n\n##  [ ](#on-google-colab) On Google Colab \n\nYou can try `ReaderLM-v2` via our [Colab notebook](https://colab.research.google.com/drive/1FfPjZwkMSocOLsEYH45B3B4NxDryKLGI?usp=sharing), which demonstrates HTML-to-markdown conversion, JSON extraction, and instruction-following using the HackerNews frontpage as an example. The notebook is optimized for Colab's free T4 GPU tier and requires `vllm` and `triton` for acceleration and running.\n\nNote that the free T4 GPU has limitations‚Äîit doesn't support bfloat16 or flash attention 2, leading to higher memory usage and slower processing of longer inputs. Nevertheless, ReaderLM-v2 successfully processes large documents under these constraints, achieving processing speeds of 67 tokens/s input and 36 tokens/s output. For production use, we recommend an RTX 3090/4090 for optimal performance.\n\n##  [ ](#local-usage) Local Usage \n\nTo use `ReaderLM-v2` locally:\n\n  1. Install the necessary dependencies:\n\n```\n`pip install transformers `\n```\n\n  2. Load and run the model:\n\n```\n`from transformers import AutoModelForCausalLM, AutoTokenizer device = \"cuda\" # or \"cpu\" tokenizer = AutoTokenizer.from_pretrained(\"jinaai/ReaderLM-v2\") model = AutoModelForCausalLM.from_pretrained(\"jinaai/ReaderLM-v2\").to(device) `\n```\n\n  3. (Optional) Pre-clean your HTML to remove scripts, styles, comments, to reduce the noise and length of the input:\n\n```\n`import re # Patterns SCRIPT_PATTERN = r\"<[ ]*script.*?\\/[ ]*script[ ]*>\" STYLE_PATTERN = r\"<[ ]*style.*?\\/[ ]*style[ ]*>\" META_PATTERN = r\"<[ ]*meta.*?>\" COMMENT_PATTERN = r\"<[ ]*!--.*?--[ ]*>\" LINK_PATTERN = r\"<[ ]*link.*?>\" BASE64_IMG_PATTERN = r'<img[^>]+src=\"data:image/[^;]+;base64,[^\"]+\"[^>]*>' SVG_PATTERN = r\"(<svg[^>]*>)(.*?)(<\\/svg>)\" def replace_svg(html: str, new_content: str = \"this is a placeholder\") -> str: return re.sub( SVG_PATTERN, lambda match: f\"{match.group(1)}{new_content}{match.group(3)}\", html, flags=re.DOTALL, ) def replace_base64_images(html: str, new_image_src: str = \"#\") -> str: return re.sub(BASE64_IMG_PATTERN, f'<img src=\"{new_image_src}\"/>', html) def clean_html(html: str, clean_svg: bool = False, clean_base64: bool = False): html = re.sub( SCRIPT_PATTERN, \"\", html, flags=re.IGNORECASE | re.MULTILINE | re.DOTALL ) html = re.sub( STYLE_PATTERN, \"\", html, flags=re.IGNORECASE | re.MULTILINE | re.DOTALL ) html = re.sub( META_PATTERN, \"\", html, flags=re.IGNORECASE | re.MULTILINE | re.DOTALL ) html = re.sub( COMMENT_PATTERN, \"\", html, flags=re.IGNORECASE | re.MULTILINE | re.DOTALL ) html = re.sub( LINK_PATTERN, \"\", html, flags=re.IGNORECASE | re.MULTILINE | re.DOTALL ) if clean_svg: html = replace_svg(html) if clean_base64: html = replace_base64_images(html) return html `\n```\n\n  4. Create a prompt for the model:\n\n```\n`def create_prompt(  text: str, tokenizer=None, instruction: str = None, schema: str = None ) -> str: \"\"\" Create a prompt for the model with optional instruction and JSON schema. \"\"\" if not instruction: instruction = \"Extract the main content from the given HTML and convert it to Markdown format.\" if schema: instruction = \"Extract the specified information from a list of news threads and present it in a structured JSON format.\" prompt = f\"{instruction}\\n```html\\n{text}\\n```\\nThe JSON schema is as follows:```json\\n{schema}\\n```\" else: prompt = f\"{instruction}\\n```html\\n{text}\\n```\" messages = [ { \"role\": \"user\", \"content\": prompt, } ] return tokenizer.apply_chat_template( messages, tokenize=False, add_generation_prompt=True ) `\n```\n\n\n\n\n###  [ ](#html-to-markdown-example) HTML to Markdown Example \n\n```\n`html = \"<html><body><h1>Hello, world!</h1></body></html>\" html = clean_html(html) input_prompt = create_prompt(html, tokenizer=tokenizer) inputs = tokenizer.encode(input_prompt, return_tensors=\"pt\").to(device) outputs = model.generate( inputs, max_new_tokens=1024, temperature=0, do_sample=False, repetition_penalty=1.08 ) print(tokenizer.decode(outputs[0])) `\n```\n\n###  [ ](#html-to-json-example) HTML to JSON Example \n\n```\n`schema = \"\"\" { \"type\": \"object\", \"properties\": { \"title\": { \"type\": \"string\" }, \"author\": { \"type\": \"string\" }, \"date\": { \"type\": \"string\" }, \"content\": { \"type\": \"string\" } }, \"required\": [\"title\", \"author\", \"date\", \"content\"] } \"\"\" html = clean_html(html) input_prompt = create_prompt(html, tokenizer=tokenizer, schema=schema) inputs = tokenizer.encode(input_prompt, return_tensors=\"pt\").to(device) outputs = model.generate( inputs, max_new_tokens=1024, temperature=0, do_sample=False, repetition_penalty=1.08 ) print(tokenizer.decode(outputs[0])) `\n```\n\n##  [ ](#model-performance) Model Performance \n\nReaderLM-v2 has been extensively evaluated on various tasks:\n\n###  [ ](#quantitative-evaluation) Quantitative Evaluation \n\nFor HTML-to-Markdown tasks, the model outperforms much larger models like Qwen2.5-32B-Instruct and Gemini2-flash-expr, achieving:\n\n  * ROUGE-L: 0.84\n  * Levenshtein Distance: 0.22\n  * Jaro-Winkler Similarity: 0.82\n\n\n\nFor HTML-to-JSON tasks, it shows competitive performance with:\n\n  * F1 Score: 0.81\n  * Precision: 0.82\n  * Recall: 0.81\n  * Pass-Rate: 0.98\n\n\n\n###  [ ](#qualitative-evaluation) Qualitative Evaluation \n\nThe model excels in three key dimensions:\n\n  * Content Integrity: 39/50\n  * Structural Accuracy: 35/50\n  * Format Compliance: 36/50\n\n\n\nThese scores demonstrate strong performance in preserving semantic information, maintaining structural accuracy, and adhering to markdown syntax standards.\n\n##  [ ](#training-details) Training Details \n\nReaderLM-v2 is built on Qwen2.5-1.5B-Instruction and trained using a sophisticated pipeline:\n\n  1. Data Preparation: Created html-markdown-1m dataset with 1 million HTML documents\n\n  2. Synthetic Data Generation: Three-step pipeline using Qwen2.5-32B-Instruction\n\n     * Drafting: Initial markdown and JSON generation\n     * Refinement: Content cleanup and structure alignment\n     * Critique: Quality evaluation and filtering\n  3. Training Process:\n\n     * Long-context pretraining\n     * Supervised fine-tuning\n     * Direct preference optimization\n     * Self-play reinforcement tuning\n\n\n\nDownloads last month\n    22,220 \n\nSafetensors[](https://huggingface.co/docs/safetensors)\n\nModel size\n\n1.54B params\n\nTensor type\n\nBF16 \n\n¬∑\n\nInference Providers [NEW](https://huggingface.co/blog/inference-providers)\n\n[ Text Generation](/tasks/text-generation \"Learn more about text-generation\")\n\nThis model is not currently available via any of the supported third-party Inference Providers, and HF Inference API has been turned off for this model.\n\n##  Model tree for jinaai/ReaderLM-v2 [](/docs/hub/model-cards#specifying-a-base-model)\n\nQuantizations\n\n[21 models](/models?other=base_model:quantized:jinaai/ReaderLM-v2)\n\n##  Spaces using jinaai/ReaderLM-v2 2\n\n[üåç Felguk/ReaderLM-v2](/spaces/Felguk/ReaderLM-v2)[‚ö° Nymbo/Markdown-Studio](/spaces/Nymbo/Markdown-Studio)\n\n##  Collection including jinaai/ReaderLM-v2\n\n#### [Jina Reader-LM Collection  Convert HTML content to LLM-friendly Markdown/JSON content ‚Ä¢  3 items ‚Ä¢  Updated 19 days ago ‚Ä¢ 9](/collections/jinaai/jina-reader-lm-670628bfe0d782685cb53416)\n\nSystem theme \n\nCompany\n\n[TOS](/terms-of-service) [Privacy](/privacy) [About](/huggingface) [Jobs](https://apply.workable.com/huggingface/) [](/)\n\nWebsite\n\n[Models](/models) [Datasets](/datasets) [Spaces](/spaces) [Pricing](/pricing) [Docs](/docs)\n",
    "content_quality_score": 0.9,
    "summary": null,
    "child_urls": [
        "https://huggingface.co/",
        "https://huggingface.co/models",
        "https://huggingface.co/datasets",
        "https://huggingface.co/spaces",
        "https://huggingface.co/posts",
        "https://huggingface.co/docs",
        "https://huggingface.co/enterprise",
        "https://huggingface.co/pricing",
        "https://huggingface.co/login",
        "https://huggingface.co/join",
        "https://huggingface.co/jinaai",
        "https://huggingface.co/jinaai/ReaderLM-v2",
        "https://huggingface.co/models?pipeline_tag=text-generation",
        "https://huggingface.co/models?library=transformers",
        "https://huggingface.co/models?library=onnx",
        "https://huggingface.co/models?library=safetensors",
        "https://huggingface.co/models?language=multilingual",
        "https://huggingface.co/models?other=qwen2",
        "https://huggingface.co/models?other=conversational",
        "https://huggingface.co/models?other=text-generation-inference",
        "https://huggingface.co/models?other=region%3Aeu",
        "https://huggingface.co/jinaai/ReaderLM-v2/tree/main",
        "https://huggingface.co/jinaai/ReaderLM-v2/discussions",
        "https://huggingface.co/jinaai/ReaderLM-v2/#readerlm-v2",
        "https://huggingface.co/jinaai/ReaderLM-v2/#whats-new-in-readerlm-v2",
        "https://huggingface.co/jinaai/ReaderLM-v2/#model-overview",
        "https://huggingface.co/jinaai/ReaderLM-v2/#usage",
        "https://huggingface.co/jinaai/ReaderLM-v2/#via-reader-api",
        "https://huggingface.co/jinaai/ReaderLM-v2/#on-google-colab",
        "https://huggingface.co/jinaai/ReaderLM-v2/#local-usage",
        "https://huggingface.co/jinaai/ReaderLM-v2/#html-to-markdown-example",
        "https://huggingface.co/jinaai/ReaderLM-v2/#html-to-json-example",
        "https://huggingface.co/jinaai/ReaderLM-v2/#model-performance",
        "https://huggingface.co/jinaai/ReaderLM-v2/#quantitative-evaluation",
        "https://huggingface.co/jinaai/ReaderLM-v2/#qualitative-evaluation",
        "https://huggingface.co/jinaai/ReaderLM-v2/#training-details",
        "https://huggingface.co/docs/safetensors",
        "https://huggingface.co/blog/inference-providers",
        "https://huggingface.co/tasks/text-generation",
        "https://huggingface.co/docs/hub/model-cards#specifying-a-base-model",
        "https://huggingface.co/models?other=base_model:quantized:jinaai/ReaderLM-v2",
        "https://huggingface.co/spaces/Felguk/ReaderLM-v2",
        "https://huggingface.co/spaces/Nymbo/Markdown-Studio",
        "https://huggingface.co/collections/jinaai/jina-reader-lm-670628bfe0d782685cb53416",
        "https://huggingface.co/terms-of-service",
        "https://huggingface.co/privacy",
        "https://huggingface.co/huggingface",
        "https://jina.ai/",
        "https://jina.ai/news/readerlm-v2-frontier-small-language-model-for-html-to-markdown-and-json",
        "https://jina.ai/reader",
        "https://colab.research.google.com/drive/1FfPjZwkMSocOLsEYH45B3B4NxDryKLGI?usp=sharing",
        "https://aws.amazon.com/marketplace/pp/prodview-jwfct4j4rvxk2?sr=0-21&ref_=beagle&applicationId=AWSMPContessa",
        "https://azuremarketplace.microsoft.com/en-us/marketplace/apps/jinaai.reader-lm-v2-vm",
        "https://jina.ai/reader/",
        "https://apply.workable.com/huggingface/"
    ]
}